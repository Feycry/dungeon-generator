<Window x:Class="DungeonVisualizerApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Dungeon Generator Visualizer" Height="800" Width="1200"
        Loaded="Window_Loaded">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel - Controls -->
        <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="10">
                <TextBlock Text="Dungeon Parameters" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>

                <!-- Width Slider -->
                <TextBlock Text="Width:" FontWeight="SemiBold"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="WidthSlider" Minimum="10" Maximum="150" Value="50" 
                            TickFrequency="10" IsSnapToTickEnabled="True"
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=WidthSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Height Slider -->
                <TextBlock Text="Height:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="HeightSlider" Minimum="10" Maximum="150" Value="50" 
                            TickFrequency="10" IsSnapToTickEnabled="True"
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=HeightSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Room Count Slider -->
                <TextBlock Text="Room Count:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="RoomCountSlider" Minimum="3" Maximum="50" Value="15" 
                            TickFrequency="1" IsSnapToTickEnabled="True"
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=RoomCountSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Min Room Size Slider -->
                <TextBlock Text="Min Room Size:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="MinRoomSizeSlider" Minimum="1" Maximum="10" Value="2" 
                            TickFrequency="1" IsSnapToTickEnabled="True"
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=MinRoomSizeSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Max Room Size Slider -->
                <TextBlock Text="Max Room Size:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="MaxRoomSizeSlider" Minimum="3" Maximum="20" Value="9" 
                            TickFrequency="1" IsSnapToTickEnabled="True"
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=MaxRoomSizeSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Room Size Mean Slider -->
                <TextBlock Text="Room Size Mean:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="RoomSizeMeanSlider" Minimum="1" Maximum="15" Value="4" 
                            TickFrequency="0.5" 
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=RoomSizeMeanSlider, Path=Value, StringFormat='{}{0:F1}'}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Room Size Variance Slider -->
                <TextBlock Text="Room Size Variance:" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="RoomSizeVarianceSlider" Minimum="0.1" Maximum="5" Value="1.6" 
                            TickFrequency="0.1" 
                            ValueChanged="Parameter_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=RoomSizeVarianceSlider, Path=Value, StringFormat='{}{0:F1}'}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>

                <!-- Seed Input -->
                <TextBlock Text="Seed (-1 for random):" FontWeight="SemiBold" Margin="0,10,0,0"/>
                <TextBox x:Name="SeedTextBox" Text="-1" TextChanged="Parameter_Changed"/>

                <!-- Allow Diagonals Checkbox -->
                <CheckBox x:Name="AllowDiagonalsCheckBox" Content="Allow Diagonal Hallways" 
                          Margin="0,10,0,0" Checked="Parameter_Changed" Unchecked="Parameter_Changed"/>

                <!-- Generate Button -->
                <Button x:Name="GenerateButton" Content="Generate Dungeon" 
                        Margin="0,20,0,0" Height="40" FontSize="16" FontWeight="Bold"
                        Click="GenerateButton_Click"/>

                <!-- Status Text -->
                <TextBlock x:Name="StatusText" Text="Ready" Margin="0,10,0,0" 
                           TextWrapping="Wrap" Foreground="Gray"/>

                <!-- Cell Size Slider -->
                <TextBlock Text="Cell Display Size:" FontWeight="SemiBold" Margin="0,20,0,0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="CellSizeSlider" Minimum="2" Maximum="20" Value="8" 
                            TickFrequency="1" IsSnapToTickEnabled="True"
                            ValueChanged="CellSize_Changed"/>
                    <TextBlock Grid.Column="1" Text="{Binding ElementName=CellSizeSlider, Path=Value}" 
                               HorizontalAlignment="Right" VerticalAlignment="Center"/>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <!-- Right Panel - Dungeon Visualization -->
        <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1" Margin="5">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <Canvas x:Name="DungeonCanvas" Background="White"/>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
